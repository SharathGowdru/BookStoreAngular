<div class="main" fxLayout="column"fxLayoutAlign="center center" style="margin-top:40px;margin-left:30px;margin-right:30px;">
    <div class="header">
        <app-header></app-header> 
    </div>
    <div class="home" fxLayout="column"  >
        <mat-accordion style="width:''; height:''; border: 2px solid #DBDBDB; margin-top:10px; margin-bottom:10px;" fxLayoutGap="40px">  
            <div class="body-header">    
                <mat-label><span routerLink="/home" style="cursor:pointer;">
                    <b>Home</b></span><span>/My Cart</span>
                </mat-label>
                <div class="location">
                    <mat-expansion-panel class="panel" (opened)="panelOpenState = true" (closed)="panelOpenState = false" >
                        <mat-expansion-panel-header>
                            <mat-panel-title style="padding: 0%; margin: 0%;">
                                <mat-icon><span class="material-icons-outlined" style="color: #A03037;">
                                    location_on
                                    </span></mat-icon>
                            </mat-panel-title>
                            <mat-panel-description style="padding: 0%;  font-size: 12px;" >
                              Use Current Location...{{panelOpenState ? '' : ''}}
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <p>Banglore</p>
                    </mat-expansion-panel> 
                </div>
            </div>
                <mat-expansion-panel hideToggle style="margin-top:5px;">
                    <mat-expansion-panel-header>
                        <mat-panel-title fxLayout="row" fxLayoutAlign="space-between center">                
                            <div>
                                <b>My Cart</b><i>({{cartBooks.length}})</i>
                            </div>
                        </mat-panel-title>
                    </mat-expansion-panel-header>  
                    <div class="cart">            
                        <div>
                            <!-- <h3>My Cart({{cartBooks.length}})</h3> -->
                            <ng-container *ngFor="let cart of cartBooks">
                                <div class="book" style=" flex-direction: row;">
                                    <img src="../../../assets/images/image1.png">
                                    <div style="margin-left: 20px;">
                                        <h4 style="width: 300px; margin-bottom: 0;">{{cart.product_id.bookName}}</h4>
                                        <h4 style="width: 300px; margin-bottom: 0;">{{cart.product_id.description}}</h4>
                                        <h5 style="margin-bottom: 5px; color: #9D9D9D;">by {{cart.product_id.author}}</h5>
                                        <span style="font: normal normal bold 15px/18px Lato;
                                        letter-spacing: 0px;
                                        color: #0A0102;
                                        opacity: 1;">Rs. {{cart.product_id.price}}</span>
                                        <div style="display: flex;flex-wrap: nowrap;flex-flow: row;"><span class="material-icons" style="color: rgb(202, 201, 201);">
                                            remove_circle
                                        </span>
                                        <input style="width: 20px;height: 20px;">
                                    <span class="material-icons" style="color: rgb(202, 201, 201);">
                                          add_circle
                                            </span><h5 style="cursor: pointer;"(click)="removeBook(cart)" >Remove</h5>
                                        </div>
                                            
                                    </div>
                                </div>
                                <mat-divider></mat-divider>
                            </ng-container>
                            </div>    
                        <div class="placeOrder" (click)="addressToggles()">
                            <button class="order" *ngIf="displayButton">
                                PLACE ORDER
                            </button>
                        </div>
                        <div *ngIf="!displayButton">

                        </div>
                        
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
           
    
            <div class="customer-details-container">
                <div class="address" *ngIf="displayAddress">
                    <span>Address Details</span>
                </div>
                <form class="custermerAddress" *ngIf="!displayAddress" (ngSubmit)="onSubmit()" [formGroup]="CustomerForm">
                <div class="customer-details-header">
                  <h2>Customer Details</h2>
                  <button mat-stroked-button class="address-color">Add New Address</button>
                </div>
                <div class="input-fields-container">
                  <div class="personal-details-container">
                    <div class="full-name-container">
                      <span>Full Name</span>
                      <input type="text" class="text-input">
                    </div>
                    <div class="mobile-container">
                      <span>Mobile Number</span>
                      <input type="text" class="text-input">
                    </div>
                  </div>
                  <div class="address-container">
                    <span>Address</span>
                    <textarea name="" id="" cols="30" rows="5" class="text-input"></textarea>
                  </div>
                  <div class="address-details-container">
                    <div class="city-town-container">
                      <span>City/Town</span>
                      <input type="text" class="text-input">
                    </div>
                    <div class="mobile-container">
                      <span>State</span>
                      <input type="text" class="text-input">
                    </div>
                  </div>
                  <div class="type-container">
                    <span>Type</span>
                    <div class="radio-buttons-container">
                      <input type="radio" name="type" id="home">
                    <label for="home">Home</label>
                    <input type="radio" name="type" id="work">
                    <label for="home">Work</label>
                    <input type="radio" name="type" id="other">
                    <label for="home">Other</label>
                    </div>
                  </div>
                </div>
            </form>
              </div>
              <div>
                <button class="continue"(click) = "continue()" *ngIf="displayContinueButton">
                    Continue
                </button>
            </div>

        <mat-accordion style="width:''; height:'';border: 2px solid #DBDBDB; margin-top:10px; margin-bottom:315px;" fxLayoutGap="40px">
                <mat-expansion-panel hideToggle>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <b>Order Summery</b>
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="cart card">            
                    <div>
                    <ng-container *ngFor="let cart of cartBooks">
                        <div class="book" style=" flex-direction: row;">
                            <img src="../../../assets/images/image1.png">
                            <div style="margin-left: 20px;">
                                <h4 style="width: 300px; margin-bottom: 0;">{{cart.product_id.bookName}}</h4>
                                <h4 style="width: 300px; margin-bottom: 0;">{{cart.product_id.description}}</h4>
                                <h5 style="margin-bottom: 5px; color: #9D9D9D;">by {{cart.product_id.author}}</h5>
                                <span style="font: normal normal bold 15px/18px Lato;
                                letter-spacing: 0px;
                                color: #0A0102;
                                opacity: 1;">Rs. {{cart.product_id.price}}</span>
                            </div>
                        </div>
                        <mat-divider></mat-divider>
                    </ng-container>
                    </div>
            
                    <div class="checkoutOrder">
                        <div class="checkoutorder" (click)="checkout()">
                            CHECKOUT
                        </div>
                    </div>
                    </div>
                </mat-expansion-panel>

        </mat-accordion>
        </div>
        <mat-paginator [length]="100" [pageSize]="10" aria-label="Select page"> </mat-paginator>
    <div class="footer">
        <app-footer></app-footer>
    </div>
</div>